<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#228B22">
    <title>A Tua Profecia - Or√°culo da Floresta</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Meta tags para partilha nas redes sociais -->
    <meta property="og:title" content="A Minha Profecia - Or√°culo da Floresta">
    <meta property="og:description" content="Descobri a minha profecia m√≠stica na instala√ß√£o do Or√°culo da Floresta">
    <meta property="og:image" content="">
    <meta property="og:type" content="website">
    
    <!-- Meta tags para iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <div id="app">
        <!-- Loading State -->
        <div id="loading-state" class="state active">
            <div class="loading-container">
                <div class="mystical-loader">
                    <div class="leaf-spinner"></div>
                </div>
                <h2>Carregando a tua profecia...</h2>
            </div>
        </div>
        
        <!-- Code Input State (se algu√©m acedera via c√≥digo) -->
        <div id="code-input-state" class="state">
            <div class="code-container">
                <div class="header">
                    <h1>üå≤ Or√°culo da Floresta</h1>
                    <p>Introduz o teu c√≥digo para aceder √† profecia</p>
                </div>
                
                <div class="code-input-form">
                    <input type="text" 
                           id="code-input" 
                           placeholder="Ex: FOLHA-42" 
                           autocomplete="off"
                           maxlength="12">
                    <button id="find-prophecy-btn">Encontrar Profecia</button>
                </div>
                
                <div class="code-instructions">
                    <p>O c√≥digo est√° no ecr√£ da instala√ß√£o</p>
                    <p>Formato: ARQU√âTIPO-N√öMERO</p>
                </div>
            </div>
        </div>
        
        <!-- Prophecy Display State -->
        <div id="prophecy-state" class="state">
            <div class="prophecy-container">
                <div class="prophecy-header">
                    <h1>A Tua Profecia</h1>
                    <p id="archetype-name"></p>
                </div>
                
                <div class="prophecy-image-container">
                    <img id="prophecy-image" alt="A tua profecia" />
                    <div class="image-overlay">
                        <button id="download-btn" class="action-btn primary">
                            üì± Guardar Imagem
                        </button>
                    </div>
                </div>
                
                <!-- Bot√£o para gerar imagem quando n√£o existe -->
                <div id="generate-image-section" class="generate-section" style="display: none;">
                    <p class="generate-description">A tua profecia ainda n√£o tem imagem.</p>
                    <button id="generate-image-btn" class="action-btn primary">
                        ‚ú® Gerar Imagem M√≠stica
                    </button>
                </div>
                
                <div class="prophecy-text">
                    <blockquote id="prophecy-text-content"></blockquote>
                </div>
            </div>
        </div>
        
        <!-- Error State -->
        <div id="error-state" class="state">
            <div class="error-container">
                <div class="error-icon">üå≤</div>
                <h2>Oops! Algo correu mal</h2>
                <p id="error-message">N√£o conseguimos encontrar a tua profecia.</p>
                
                <button id="retry-btn" class="action-btn primary">
                    Tentar Novamente
                </button>
                
                <div class="back-to-input">
                    <button id="back-to-input-btn" class="text-btn">
                        ‚Üê Introduzir outro c√≥digo
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hidden canvas para download de imagens -->
    <canvas id="download-canvas" style="display: none;"></canvas>
    
    <script src="webapp.js"></script>
</body>
</html>